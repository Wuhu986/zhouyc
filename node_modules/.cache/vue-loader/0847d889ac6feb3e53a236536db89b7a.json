{"remainingRequest":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\桌面\\csgo项目\\poetize-vue2\\src\\components\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\src\\components\\user.vue","mtime":1681451078623},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IHByb0J1dHRvbiA9ICgpID0+IGltcG9ydCggIi4vY29tbW9uL3Byb0J1dHRvbiIpOwpjb25zdCB1cGxvYWRQaWN0dXJlID0gKCkgPT4gaW1wb3J0KCAiLi9jb21tb24vdXBsb2FkUGljdHVyZSIpOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHByb0J1dHRvbiwKICAgIHVwbG9hZFBpY3R1cmUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50VXNlcjogdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFVzZXIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgYWNjb3VudDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcGhvbmVOdW1iZXI6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIGF2YXRhcjogIiIsCiAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICBjb2RlOiAiIiwKICAgICAgZGlhbG9nVGl0bGU6ICIiLAogICAgICBjb2RlU3RyaW5nOiAi6aqM6K+B56CBIiwKICAgICAgcGFzc3dvcmRGbGFnOiBudWxsLAogICAgICBpbnRlcnZhbENvZGU6IG51bGwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkKCkgewoKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFBpY3R1cmUocmVzKSB7CiAgICAgIHRoaXMuYXZhdGFyID0gcmVzOwogICAgICB0aGlzLnN1Ym1pdERpYWxvZygpCiAgICB9LAogICAgc2lnblVwKCkgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9naW5BbmRSZWdpc3QiKS5jbGFzc0xpc3QuYWRkKCdyaWdodC1wYW5lbC1hY3RpdmUnKTsKICAgIH0sCiAgICBzaWduSW4oKSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2dpbkFuZFJlZ2lzdCIpLmNsYXNzTGlzdC5yZW1vdmUoJ3JpZ2h0LXBhbmVsLWFjdGl2ZScpOwogICAgfSwKICAgIGxvZ2luKCkgewogICAgICBpZiAodGhpcy4kY29tbW9uLmlzRW1wdHkodGhpcy5hY2NvdW50KSB8fCB0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLnBhc3N3b3JkKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpei0puWPt+aIluWvhuegge+8gSIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBsZXQgdXNlciA9IHsKICAgICAgICBhY2NvdW50OiB0aGlzLmFjY291bnQudHJpbSgpLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLiRjb21tb24uZW5jcnlwdCh0aGlzLnBhc3N3b3JkLnRyaW0oKSkKICAgICAgfTsKCiAgICAgIHRoaXMuJGh0dHAucG9zdCh0aGlzLiRjb25zdGFudC5iYXNlVVJMICsgIi91c2VyL2xvZ2luIiwgdXNlciwgZmFsc2UsIGZhbHNlKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmICghdGhpcy4kY29tbW9uLmlzRW1wdHkocmVzLmRhdGEpKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9hZEN1cnJlbnRVc2VyIiwgcmVzLmRhdGEpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlclRva2VuIiwgcmVzLmRhdGEuYWNjZXNzVG9rZW4pOwogICAgICAgICAgICB0aGlzLmFjY291bnQgPSAiIjsKICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9ICIiOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy8nfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0KCkgewogICAgICBpZiAodGhpcy4kY29tbW9uLmlzRW1wdHkodGhpcy51c2VybmFtZSkgfHwgdGhpcy4kY29tbW9uLmlzRW1wdHkodGhpcy5wYXNzd29yZCkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnlKjmiLflkI3miJblr4bnoIHvvIEiLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZGlhbG9nVGl0bGUgPT09ICLpgq7nrrHpqozor4HnoIEiICYmIHRoaXMuJGNvbW1vbi5pc0VtcHR5KHRoaXMuZW1haWwpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566x77yBIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLmNvZGUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6aqM6K+B56CB77yBIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lLmluZGV4T2YoIiAiKSAhPT0gLTEgfHwgdGhpcy5wYXNzd29yZC5pbmRleE9mKCIgIikgIT09IC0xKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi55So5oi35ZCN5oiW5a+G56CB5LiN6IO95YyF5ZCr56m65qC877yBIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCB1c2VyID0gewogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLnRyaW0oKSwKICAgICAgICBjb2RlOiB0aGlzLmNvZGUudHJpbSgpLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLiRjb21tb24uZW5jcnlwdCh0aGlzLnBhc3N3b3JkLnRyaW0oKSkKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmRpYWxvZ1RpdGxlID09PSAi6YKu566x6aqM6K+B56CBIikgewogICAgICAgIHVzZXIuZW1haWwgPSB0aGlzLmVtYWlsOwogICAgICB9CgogICAgICB0aGlzLiRodHRwLnBvc3QodGhpcy4kY29uc3RhbnQuYmFzZVVSTCArICIvdXNlci9yZWdpc3QiLCB1c2VyKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmICghdGhpcy4kY29tbW9uLmlzRW1wdHkocmVzLmRhdGEpKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9hZEN1cnJlbnRVc2VyIiwgcmVzLmRhdGEpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlclRva2VuIiwgcmVzLmRhdGEuYWNjZXNzVG9rZW4pOwogICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gIiI7CiAgICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSAiIjsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvJ30pOwogICAgICAgICAgICBsZXQgdXNlclRva2VuID0gdGhpcy4kY29tbW9uLmVuY3J5cHQobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJUb2tlbiIpKTsKICAgICAgICAgICAgd2luZG93Lm9wZW4odGhpcy4kY29uc3RhbnQuaW1CYXNlVVJMICsgIj91c2VyVG9rZW49IiArIHVzZXJUb2tlbik7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0VXNlckluZm8oKSB7CiAgICAgIGlmICghdGhpcy5jaGVja1BhcmFtZXRlcnMoKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IHVzZXIgPSB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMuY3VycmVudFVzZXIudXNlcm5hbWUsCiAgICAgICAgZ2VuZGVyOiB0aGlzLmN1cnJlbnRVc2VyLmdlbmRlcgogICAgICB9OwoKICAgICAgaWYgKCF0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLmN1cnJlbnRVc2VyLmludHJvZHVjdGlvbikpIHsKICAgICAgICB1c2VyLmludHJvZHVjdGlvbiA9IHRoaXMuY3VycmVudFVzZXIuaW50cm9kdWN0aW9uLnRyaW0oKTsKICAgICAgfQoKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5L+d5a2Y77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIGNlbnRlcjogdHJ1ZQogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLiRodHRwLnBvc3QodGhpcy4kY29uc3RhbnQuYmFzZVVSTCArICIvdXNlci91cGRhdGVVc2VySW5mbyIsIHVzZXIpCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmICghdGhpcy4kY29tbW9uLmlzRW1wdHkocmVzLmRhdGEpKSB7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJsb2FkQ3VycmVudFVzZXIiLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRVc2VyOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKn++8gSIsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojkv53lrZghJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja1BhcmFtcyhwYXJhbXMpIHsKICAgICAgaWYgKHRoaXMuZGlhbG9nVGl0bGUgPT09ICLkv67mlLnmiYvmnLrlj7ciIHx8IHRoaXMuZGlhbG9nVGl0bGUgPT09ICLnu5HlrprmiYvmnLrlj7ciIHx8ICh0aGlzLmRpYWxvZ1RpdGxlID09PSAi5om+5Zue5a+G56CBIiAmJiB0aGlzLnBhc3N3b3JkRmxhZyA9PT0gMSkpIHsKICAgICAgICBwYXJhbXMuZmxhZyA9IDE7CiAgICAgICAgaWYgKHRoaXMuJGNvbW1vbi5pc0VtcHR5KHRoaXMucGhvbmVOdW1iZXIpKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeaJi+acuuWPt++8gSIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoISgvXjFbMzQ1Nzg5XVxkezl9JC8udGVzdCh0aGlzLnBob25lTnVtYmVyKSkpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5omL5py65Y+35qC85byP5pyJ6K+v77yBIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHBhcmFtcy5wbGFjZSA9IHRoaXMucGhvbmVOdW1iZXI7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaWFsb2dUaXRsZSA9PT0gIuS/ruaUuemCrueusSIgfHwgdGhpcy5kaWFsb2dUaXRsZSA9PT0gIue7keWumumCrueusSIgfHwgdGhpcy5kaWFsb2dUaXRsZSA9PT0gIumCrueusemqjOivgeeggSIgfHwgKHRoaXMuZGlhbG9nVGl0bGUgPT09ICLmib7lm57lr4bnoIEiICYmIHRoaXMucGFzc3dvcmRGbGFnID09PSAyKSkgewogICAgICAgIHBhcmFtcy5mbGFnID0gMjsKICAgICAgICBpZiAodGhpcy4kY29tbW9uLmlzRW1wdHkodGhpcy5lbWFpbCkpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566x77yBIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICghKC9eXHcrQFthLXpBLVowLTldezIsMTB9KD86XC5bYS16XXsyLDR9KXsxLDN9JC8udGVzdCh0aGlzLmVtYWlsKSkpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi6YKu566x5qC85byP5pyJ6K+v77yBIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHBhcmFtcy5wbGFjZSA9IHRoaXMuZW1haWw7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGNoZWNrUGFyYW1ldGVycygpIHsKICAgICAgaWYgKHRoaXMuJGNvbW1vbi5pc0VtcHR5KHRoaXMuY3VycmVudFVzZXIudXNlcm5hbWUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl55So5oi35ZCN77yBIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyLnVzZXJuYW1lLmluZGV4T2YoIiAiKSAhPT0gLTEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLnlKjmiLflkI3kuI3og73ljIXlkKvnqbrmoLzvvIEiLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBjaGFuZ2VEaWFsb2codmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAi6YKu566x6aqM6K+B56CBIikgewogICAgICAgIGlmICh0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLmVtYWlsKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXpgq7nrrHvvIEiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKCEoL15cdytAW2EtekEtWjAtOV17MiwxMH0oPzpcLlthLXpdezIsNH0pezEsM30kLy50ZXN0KHRoaXMuZW1haWwpKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLpgq7nrrHmoLzlvI/mnInor6/vvIEiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSB2YWx1ZTsKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBzdWJtaXREaWFsb2coKSB7CiAgICAgIGlmICh0aGlzLmRpYWxvZ1RpdGxlID09PSAi5L+u5pS55aS05YOPIikgewogICAgICAgIGlmICh0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLmF2YXRhcikpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi6K+35LiK5Lyg5aS05YOP77yBIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxldCB1c2VyID0gewogICAgICAgICAgICBhdmF0YXI6IHRoaXMuYXZhdGFyLnRyaW0oKQogICAgICAgICAgfTsKCiAgICAgICAgICB0aGlzLiRodHRwLnBvc3QodGhpcy4kY29uc3RhbnQuYmFzZVVSTCArICIvdXNlci91cGRhdGVVc2VySW5mbyIsIHVzZXIpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICBpZiAoIXRoaXMuJGNvbW1vbi5pc0VtcHR5KHJlcy5kYXRhKSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJsb2FkQ3VycmVudFVzZXIiLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFVzZXI7CiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRGlhbG9nKCk7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKn++8gSIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kaWFsb2dUaXRsZSA9PT0gIuS/ruaUueaJi+acuuWPtyIgfHwgdGhpcy5kaWFsb2dUaXRsZSA9PT0gIue7keWumuaJi+acuuWPtyIgfHwgdGhpcy5kaWFsb2dUaXRsZSA9PT0gIuS/ruaUuemCrueusSIgfHwgdGhpcy5kaWFsb2dUaXRsZSA9PT0gIue7keWumumCrueusSIpIHsKICAgICAgICB0aGlzLnVwZGF0ZVNlY3JldEluZm8oKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRpYWxvZ1RpdGxlID09PSAi5om+5Zue5a+G56CBIikgewogICAgICAgIGlmICh0aGlzLnBhc3N3b3JkRmxhZyAhPT0gMSAmJiB0aGlzLnBhc3N3b3JkRmxhZyAhPT0gMikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmib7lm57mlrnlvI/vvIEiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy51cGRhdGVTZWNyZXRJbmZvKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuZGlhbG9nVGl0bGUgPT09ICLpgq7nrrHpqozor4HnoIEiKSB7CiAgICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVTZWNyZXRJbmZvKCkgewogICAgICBpZiAodGhpcy4kY29tbW9uLmlzRW1wdHkodGhpcy5jb2RlKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpemqjOivgeegge+8gSIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLnBhc3N3b3JkKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWvhuegge+8gSIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgY29kZTogdGhpcy5jb2RlLnRyaW0oKSwKICAgICAgICBwYXNzd29yZDogdGhpcy4kY29tbW9uLmVuY3J5cHQodGhpcy5wYXNzd29yZC50cmltKCkpCiAgICAgIH07CiAgICAgIGlmICghdGhpcy5jaGVja1BhcmFtcyhwYXJhbXMpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5kaWFsb2dUaXRsZSA9PT0gIuaJvuWbnuWvhueggSIpIHsKICAgICAgICB0aGlzLiRodHRwLnBvc3QodGhpcy4kY29uc3RhbnQuYmFzZVVSTCArICIvdXNlci91cGRhdGVGb3JGb3JnZXRQYXNzd29yZCIsIHBhcmFtcywgZmFsc2UsIGZhbHNlKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmNsZWFyRGlhbG9nKCk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnmiJDlip/vvIzor7fph43mlrDnmbvpmYbvvIEiLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGh0dHAucG9zdCh0aGlzLiRjb25zdGFudC5iYXNlVVJMICsgIi91c2VyL3VwZGF0ZVNlY3JldEluZm8iLCBwYXJhbXMsIGZhbHNlLCBmYWxzZSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLiRjb21tb24uaXNFbXB0eShyZXMuZGF0YSkpIHsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImxvYWRDdXJyZW50VXNlciIsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFVzZXI7CiAgICAgICAgICAgICAgdGhpcy5jbGVhckRpYWxvZygpOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKn++8gSIsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRDb2RlKCkgewogICAgICBpZiAodGhpcy5jb2RlU3RyaW5nID09PSAi6aqM6K+B56CBIikgewogICAgICAgIC8vIOiOt+WPlumqjOivgeeggQogICAgICAgIGxldCBwYXJhbXMgPSB7fTsKICAgICAgICBpZiAoIXRoaXMuY2hlY2tQYXJhbXMocGFyYW1zKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGV0IHVybDsKICAgICAgICBpZiAodGhpcy5kaWFsb2dUaXRsZSA9PT0gIuaJvuWbnuWvhueggSIgfHwgdGhpcy5kaWFsb2dUaXRsZSA9PT0gIumCrueusemqjOivgeeggSIpIHsKICAgICAgICAgIHVybCA9ICIvdXNlci9nZXRDb2RlRm9yRm9yZ2V0UGFzc3dvcmQiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgPSAiL3VzZXIvZ2V0Q29kZUZvckJpbmQiOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy4kY29uc3RhbnQuYmFzZVVSTCArIHVybCwgcGFyYW1zKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAi6aqM6K+B56CB5bey5Y+R6YCB77yM6K+35rOo5oSP5p+l5pS277yBIiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB0aGlzLmNvZGVTdHJpbmcgPSAiMzAiOwogICAgICAgIHRoaXMuaW50ZXJ2YWxDb2RlID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKHRoaXMuY29kZVN0cmluZyA9PT0gIjAiKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvZGUpCiAgICAgICAgICAgIHRoaXMuY29kZVN0cmluZyA9ICLpqozor4HnoIEiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jb2RlU3RyaW5nID0gKHBhcnNlSW50KHRoaXMuY29kZVN0cmluZykgLSAxKSArICIiOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+eojeWQjuWGjeivle+8gSIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyRGlhbG9nKCkgewogICAgICB0aGlzLnBhc3N3b3JkID0gIiI7CiAgICAgIHRoaXMucGhvbmVOdW1iZXIgPSAiIjsKICAgICAgdGhpcy5lbWFpbCA9ICIiOwogICAgICB0aGlzLmF2YXRhciA9ICIiOwogICAgICB0aGlzLnNob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5jb2RlID0gIiI7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAiIjsKICAgICAgdGhpcy5wYXNzd29yZEZsYWcgPSBudWxsOwogICAgfQogIH0KfQo="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 登陆和注册 -->\r\n    <div v-if=\"$common.isEmpty(currentUser)\"\r\n         class=\"myCenter in-up-container my-animation-hideToShow\">\r\n      <!-- 背景图片 -->\r\n      <el-image class=\"my-el-image\"\r\n                style=\"position: absolute\"\r\n                v-once\r\n                lazy\r\n                :src=\"$constant.two_poem_image[Math.floor(Math.random() * $constant.two_poem_image.length)]\"\r\n                fit=\"cover\">\r\n        <div slot=\"error\" class=\"image-slot\"></div>\r\n      </el-image>\r\n      <div class=\"in-up\" id=\"loginAndRegist\">\r\n        <div class=\"form-container sign-up-container\">\r\n          <div class=\"myCenter\">\r\n            <h1>注册</h1>\r\n            <input v-model=\"username\" type=\"text\" maxlength=\"30\" placeholder=\"用户名\">\r\n            <input v-model=\"password\" type=\"password\" maxlength=\"30\" placeholder=\"密码\">\r\n            <input v-model=\"email\" type=\"email\" placeholder=\"邮箱\">\r\n            <input v-model=\"code\" type=\"text\" placeholder=\"验证码\" disabled>\r\n            <a style=\"margin: 0\" href=\"#\" @click=\"changeDialog('邮箱验证码')\">获取验证码</a>\r\n            <button @click=\"regist()\">注册</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-container sign-in-container\">\r\n          <div class=\"myCenter\">\r\n            <h1>登录</h1>\r\n            <input v-model=\"account\" type=\"text\" placeholder=\"用户名/邮箱/手机号\">\r\n            <input v-model=\"password\" type=\"password\" placeholder=\"密码\">\r\n            <a href=\"#\" @click=\"changeDialog('找回密码')\">忘记密码？</a>\r\n            <button @click=\"login()\">登录</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"overlay-container\">\r\n          <div class=\"overlay\">\r\n            <div class=\"overlay-panel myCenter overlay-left\">\r\n              <h1>已有帐号？</h1>\r\n              <p>请登录🚀</p>\r\n              <button class=\"ghost\" @click=\"signIn()\">登录</button>\r\n            </div>\r\n            <div class=\"overlay-panel myCenter overlay-right\">\r\n              <h1>没有帐号？</h1>\r\n              <p>立即注册吧😃</p>\r\n              <button class=\"ghost\" @click=\"signUp()\">注册</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 用户信息 -->\r\n    <div v-else class=\"user-container myCenter my-animation-hideToShow\">\r\n      <!-- 背景图片 -->\r\n      <el-image class=\"my-el-image\"\r\n                style=\"position: absolute\"\r\n                v-once\r\n                lazy\r\n                :src=\"$constant.two_poem_image[Math.floor(Math.random() * $constant.two_poem_image.length)]\"\r\n                fit=\"cover\">\r\n        <div slot=\"error\" class=\"image-slot\"></div>\r\n      </el-image>\r\n      <div class=\"shadow-box-mini user-info\" style=\"display: flex\">\r\n        <div class=\"user-left\">\r\n          <div>\r\n            <el-avatar class=\"user-avatar\" @click.native=\"changeDialog('修改头像')\" :size=\"60\"\r\n                       :src=\"currentUser.avatar\"></el-avatar>\r\n          </div>\r\n          <div class=\"myCenter\" style=\"margin-top: 12px\">\r\n            <div class=\"user-title\">\r\n              <div>用户名：</div>\r\n              <div>手机号：</div>\r\n              <div>邮箱：</div>\r\n              <div>性别：</div>\r\n              <div>简介：</div>\r\n            </div>\r\n            <div class=\"user-content\">\r\n              <div>\r\n                <el-input maxlength=\"30\" v-model=\"currentUser.username\"></el-input>\r\n              </div>\r\n              <div>\r\n                <div v-if=\"!$common.isEmpty(currentUser.phoneNumber)\">\r\n                  {{ currentUser.phoneNumber }} <span class=\"changeInfo\" @click=\"changeDialog('修改手机号')\">修改（功能未接入）</span>\r\n                </div>\r\n                <div v-else><span class=\"changeInfo\" @click=\"changeDialog('绑定手机号')\">绑定手机号（功能未接入）</span></div>\r\n              </div>\r\n              <div>\r\n                <div v-if=\"!$common.isEmpty(currentUser.email)\">\r\n                  {{ currentUser.email }} <span class=\"changeInfo\" @click=\"changeDialog('修改邮箱')\">修改</span>\r\n                </div>\r\n                <div v-else><span class=\"changeInfo\" @click=\"changeDialog('绑定邮箱')\">绑定邮箱</span></div>\r\n              </div>\r\n              <div>\r\n                <el-radio-group v-model=\"currentUser.gender\">\r\n                  <el-radio :label=\"0\" style=\"margin-right: 10px\">薛定谔的猫</el-radio>\r\n                  <el-radio :label=\"1\" style=\"margin-right: 10px\">男</el-radio>\r\n                  <el-radio :label=\"2\">女</el-radio>\r\n                </el-radio-group>\r\n              </div>\r\n              <div>\r\n                <el-input v-model=\"currentUser.introduction\"\r\n                          maxlength=\"60\"\r\n                          type=\"textarea\"\r\n                          show-word-limit></el-input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style=\"margin-top: 20px\">\r\n            <proButton :info=\"'提交'\"\r\n                       @click.native=\"submitUserInfo()\"\r\n                       :before=\"$constant.before_color_2\"\r\n                       :after=\"$constant.after_color_2\">\r\n            </proButton>\r\n          </div>\r\n        </div>\r\n        <div class=\"user-right\">\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <el-dialog :title=\"dialogTitle\"\r\n               :visible.sync=\"showDialog\"\r\n               width=\"30%\"\r\n               :before-close=\"clearDialog\"\r\n               :append-to-body=\"true\"\r\n               :close-on-click-modal=\"false\"\r\n               center>\r\n      <div class=\"myCenter\" style=\"flex-direction: column\">\r\n        <div>\r\n          <div v-if=\"dialogTitle === '修改手机号' || dialogTitle === '绑定手机号'\">\r\n            <div style=\"margin-bottom: 5px\">手机号：</div>\r\n            <el-input v-model=\"phoneNumber\"></el-input>\r\n            <div style=\"margin-top: 10px;margin-bottom: 5px\">验证码：</div>\r\n            <el-input v-model=\"code\"></el-input>\r\n            <div style=\"margin-top: 10px;margin-bottom: 5px\">密码：</div>\r\n            <el-input v-model=\"password\"></el-input>\r\n          </div>\r\n          <div v-else-if=\"dialogTitle === '修改邮箱' || dialogTitle === '绑定邮箱'\">\r\n            <div style=\"margin-bottom: 5px\">邮箱：</div>\r\n            <el-input v-model=\"email\"></el-input>\r\n            <div style=\"margin-top: 10px;margin-bottom: 5px\">验证码：</div>\r\n            <el-input v-model=\"code\"></el-input>\r\n            <div style=\"margin-top: 10px;margin-bottom: 5px\">密码：</div>\r\n            <el-input v-model=\"password\"></el-input>\r\n          </div>\r\n          <div v-else-if=\"dialogTitle === '修改头像'\">\r\n            <uploadPicture :prefix=\"'userAvatar'\" @addPicture=\"addPicture\" :maxSize=\"1\"\r\n                           :maxNumber=\"1\"></uploadPicture>\r\n          </div>\r\n          <div v-else-if=\"dialogTitle === '找回密码'\">\r\n            <div class=\"myCenter\" style=\"margin-bottom: 12px\">\r\n              <el-radio-group v-model=\"passwordFlag\">\r\n                <el-radio :label=\"1\" style=\"margin-right: 10px\">手机号</el-radio>\r\n                <el-radio :label=\"2\">邮箱</el-radio>\r\n              </el-radio-group>\r\n            </div>\r\n            <div v-if=\"passwordFlag === 1\">\r\n              <div style=\"margin-bottom: 5px\">手机号：</div>\r\n              <el-input v-model=\"phoneNumber\"></el-input>\r\n              <div style=\"margin-top: 10px;margin-bottom: 5px\">验证码：</div>\r\n              <el-input v-model=\"code\"></el-input>\r\n              <div style=\"margin-top: 10px;margin-bottom: 5px\">新密码：</div>\r\n              <el-input maxlength=\"30\" v-model=\"password\"></el-input>\r\n            </div>\r\n            <div v-else-if=\"passwordFlag === 2\">\r\n              <div style=\"margin-bottom: 5px\">邮箱：</div>\r\n              <el-input v-model=\"email\"></el-input>\r\n              <div style=\"margin-top: 10px;margin-bottom: 5px\">验证码：</div>\r\n              <el-input v-model=\"code\"></el-input>\r\n              <div style=\"margin-top: 10px;margin-bottom: 5px\">新密码：</div>\r\n              <el-input maxlength=\"30\" v-model=\"password\"></el-input>\r\n            </div>\r\n          </div>\r\n          <div v-else-if=\"dialogTitle === '邮箱验证码'\">\r\n            <div>\r\n              <div style=\"margin-bottom: 5px\">邮箱：</div>\r\n              <el-input v-model=\"email\"></el-input>\r\n              <div style=\"margin-top: 10px;margin-bottom: 5px\">验证码：</div>\r\n              <el-input v-model=\"code\"></el-input>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style=\"display: flex;margin-top: 30px\" v-show=\"dialogTitle !== '修改头像'\">\r\n          <proButton :info=\"codeString\"\r\n                     v-show=\"dialogTitle === '修改手机号' || dialogTitle === '绑定手机号' || dialogTitle === '修改邮箱' || dialogTitle === '绑定邮箱' || dialogTitle === '找回密码' || dialogTitle === '邮箱验证码'\"\r\n                     @click.native=\"getCode()\"\r\n                     :before=\"$constant.before_color_1\"\r\n                     :after=\"$constant.after_color_1\"\r\n                     style=\"margin-right: 20px\">\r\n          </proButton>\r\n          <proButton :info=\"'提交'\"\r\n                     @click.native=\"submitDialog()\"\r\n                     :before=\"$constant.before_color_2\"\r\n                     :after=\"$constant.after_color_2\">\r\n          </proButton>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  const proButton = () => import( \"./common/proButton\");\r\n  const uploadPicture = () => import( \"./common/uploadPicture\");\r\n\r\n  export default {\r\n    components: {\r\n      proButton,\r\n      uploadPicture\r\n    },\r\n    data() {\r\n      return {\r\n        currentUser: this.$store.state.currentUser,\r\n        username: \"\",\r\n        account: \"\",\r\n        password: \"\",\r\n        phoneNumber: \"\",\r\n        email: \"\",\r\n        avatar: \"\",\r\n        showDialog: false,\r\n        code: \"\",\r\n        dialogTitle: \"\",\r\n        codeString: \"验证码\",\r\n        passwordFlag: null,\r\n        intervalCode: null\r\n      }\r\n    },\r\n    computed: {},\r\n    created() {\r\n\r\n    },\r\n    methods: {\r\n      addPicture(res) {\r\n        this.avatar = res;\r\n        this.submitDialog()\r\n      },\r\n      signUp() {\r\n        document.querySelector(\"#loginAndRegist\").classList.add('right-panel-active');\r\n      },\r\n      signIn() {\r\n        document.querySelector(\"#loginAndRegist\").classList.remove('right-panel-active');\r\n      },\r\n      login() {\r\n        if (this.$common.isEmpty(this.account) || this.$common.isEmpty(this.password)) {\r\n          this.$message({\r\n            message: \"请输入账号或密码！\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        let user = {\r\n          account: this.account.trim(),\r\n          password: this.$common.encrypt(this.password.trim())\r\n        };\r\n\r\n        this.$http.post(this.$constant.baseURL + \"/user/login\", user, false, false)\r\n          .then((res) => {\r\n            if (!this.$common.isEmpty(res.data)) {\r\n              this.$store.commit(\"loadCurrentUser\", res.data);\r\n              localStorage.setItem(\"userToken\", res.data.accessToken);\r\n              this.account = \"\";\r\n              this.password = \"\";\r\n              this.$router.push({path: '/'});\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      },\r\n      regist() {\r\n        if (this.$common.isEmpty(this.username) || this.$common.isEmpty(this.password)) {\r\n          this.$message({\r\n            message: \"请输入用户名或密码！\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (this.dialogTitle === \"邮箱验证码\" && this.$common.isEmpty(this.email)) {\r\n          this.$message({\r\n            message: \"请输入邮箱！\",\r\n            type: \"error\"\r\n          });\r\n          return false;\r\n        }\r\n\r\n        if (this.$common.isEmpty(this.code)) {\r\n          this.$message({\r\n            message: \"请输入验证码！\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (this.username.indexOf(\" \") !== -1 || this.password.indexOf(\" \") !== -1) {\r\n          this.$message({\r\n            message: \"用户名或密码不能包含空格！\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        let user = {\r\n          username: this.username.trim(),\r\n          code: this.code.trim(),\r\n          password: this.$common.encrypt(this.password.trim())\r\n        };\r\n\r\n        if (this.dialogTitle === \"邮箱验证码\") {\r\n          user.email = this.email;\r\n        }\r\n\r\n        this.$http.post(this.$constant.baseURL + \"/user/regist\", user)\r\n          .then((res) => {\r\n            if (!this.$common.isEmpty(res.data)) {\r\n              this.$store.commit(\"loadCurrentUser\", res.data);\r\n              localStorage.setItem(\"userToken\", res.data.accessToken);\r\n              this.username = \"\";\r\n              this.password = \"\";\r\n              this.$router.push({path: '/'});\r\n              let userToken = this.$common.encrypt(localStorage.getItem(\"userToken\"));\r\n              window.open(this.$constant.imBaseURL + \"?userToken=\" + userToken);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      },\r\n      submitUserInfo() {\r\n        if (!this.checkParameters()) {\r\n          return;\r\n        }\r\n\r\n        let user = {\r\n          username: this.currentUser.username,\r\n          gender: this.currentUser.gender\r\n        };\r\n\r\n        if (!this.$common.isEmpty(this.currentUser.introduction)) {\r\n          user.introduction = this.currentUser.introduction.trim();\r\n        }\r\n\r\n        this.$confirm('确认保存？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'success',\r\n          center: true\r\n        }).then(() => {\r\n          this.$http.post(this.$constant.baseURL + \"/user/updateUserInfo\", user)\r\n            .then((res) => {\r\n              if (!this.$common.isEmpty(res.data)) {\r\n                this.$store.commit(\"loadCurrentUser\", res.data);\r\n                this.currentUser = this.$store.state.currentUser;\r\n                this.$message({\r\n                  message: \"修改成功！\",\r\n                  type: \"success\"\r\n                });\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                message: error.message,\r\n                type: \"error\"\r\n              });\r\n            });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '已取消保存!'\r\n          });\r\n        });\r\n      },\r\n      checkParams(params) {\r\n        if (this.dialogTitle === \"修改手机号\" || this.dialogTitle === \"绑定手机号\" || (this.dialogTitle === \"找回密码\" && this.passwordFlag === 1)) {\r\n          params.flag = 1;\r\n          if (this.$common.isEmpty(this.phoneNumber)) {\r\n            this.$message({\r\n              message: \"请输入手机号！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n          if (!(/^1[345789]\\d{9}$/.test(this.phoneNumber))) {\r\n            this.$message({\r\n              message: \"手机号格式有误！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n          params.place = this.phoneNumber;\r\n          return true;\r\n        } else if (this.dialogTitle === \"修改邮箱\" || this.dialogTitle === \"绑定邮箱\" || this.dialogTitle === \"邮箱验证码\" || (this.dialogTitle === \"找回密码\" && this.passwordFlag === 2)) {\r\n          params.flag = 2;\r\n          if (this.$common.isEmpty(this.email)) {\r\n            this.$message({\r\n              message: \"请输入邮箱！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n          if (!(/^\\w+@[a-zA-Z0-9]{2,10}(?:\\.[a-z]{2,4}){1,3}$/.test(this.email))) {\r\n            this.$message({\r\n              message: \"邮箱格式有误！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n          params.place = this.email;\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      checkParameters() {\r\n        if (this.$common.isEmpty(this.currentUser.username)) {\r\n          this.$message({\r\n            message: \"请输入用户名！\",\r\n            type: \"error\"\r\n          });\r\n          return false;\r\n        }\r\n\r\n        if (this.currentUser.username.indexOf(\" \") !== -1) {\r\n          this.$message({\r\n            message: \"用户名不能包含空格！\",\r\n            type: \"error\"\r\n          });\r\n          return false;\r\n        }\r\n        return true;\r\n      },\r\n      changeDialog(value) {\r\n        if (value === \"邮箱验证码\") {\r\n          if (this.$common.isEmpty(this.email)) {\r\n            this.$message({\r\n              message: \"请输入邮箱！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n          if (!(/^\\w+@[a-zA-Z0-9]{2,10}(?:\\.[a-z]{2,4}){1,3}$/.test(this.email))) {\r\n            this.$message({\r\n              message: \"邮箱格式有误！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n        }\r\n\r\n        this.dialogTitle = value;\r\n        this.showDialog = true;\r\n      },\r\n      submitDialog() {\r\n        if (this.dialogTitle === \"修改头像\") {\r\n          if (this.$common.isEmpty(this.avatar)) {\r\n            this.$message({\r\n              message: \"请上传头像！\",\r\n              type: \"error\"\r\n            });\r\n          } else {\r\n            let user = {\r\n              avatar: this.avatar.trim()\r\n            };\r\n\r\n            this.$http.post(this.$constant.baseURL + \"/user/updateUserInfo\", user)\r\n              .then((res) => {\r\n                if (!this.$common.isEmpty(res.data)) {\r\n                  this.$store.commit(\"loadCurrentUser\", res.data);\r\n                  this.currentUser = this.$store.state.currentUser;\r\n                  this.clearDialog();\r\n                  this.$message({\r\n                    message: \"修改成功！\",\r\n                    type: \"success\"\r\n                  });\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                this.$message({\r\n                  message: error.message,\r\n                  type: \"error\"\r\n                });\r\n              });\r\n          }\r\n        } else if (this.dialogTitle === \"修改手机号\" || this.dialogTitle === \"绑定手机号\" || this.dialogTitle === \"修改邮箱\" || this.dialogTitle === \"绑定邮箱\") {\r\n          this.updateSecretInfo();\r\n        } else if (this.dialogTitle === \"找回密码\") {\r\n          if (this.passwordFlag !== 1 && this.passwordFlag !== 2) {\r\n            this.$message({\r\n              message: \"请选择找回方式！\",\r\n              type: \"error\"\r\n            });\r\n          } else {\r\n            this.updateSecretInfo();\r\n          }\r\n        } else if (this.dialogTitle === \"邮箱验证码\") {\r\n          this.showDialog = false;\r\n        }\r\n      },\r\n      updateSecretInfo() {\r\n        if (this.$common.isEmpty(this.code)) {\r\n          this.$message({\r\n            message: \"请输入验证码！\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n        if (this.$common.isEmpty(this.password)) {\r\n          this.$message({\r\n            message: \"请输入密码！\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n        let params = {\r\n          code: this.code.trim(),\r\n          password: this.$common.encrypt(this.password.trim())\r\n        };\r\n        if (!this.checkParams(params)) {\r\n          return;\r\n        }\r\n\r\n        if (this.dialogTitle === \"找回密码\") {\r\n          this.$http.post(this.$constant.baseURL + \"/user/updateForForgetPassword\", params, false, false)\r\n            .then((res) => {\r\n              this.clearDialog();\r\n              this.$message({\r\n                message: \"修改成功，请重新登陆！\",\r\n                type: \"success\"\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                message: error.message,\r\n                type: \"error\"\r\n              });\r\n            });\r\n        } else {\r\n          this.$http.post(this.$constant.baseURL + \"/user/updateSecretInfo\", params, false, false)\r\n            .then((res) => {\r\n              if (!this.$common.isEmpty(res.data)) {\r\n                this.$store.commit(\"loadCurrentUser\", res.data);\r\n                this.currentUser = this.$store.state.currentUser;\r\n                this.clearDialog();\r\n                this.$message({\r\n                  message: \"修改成功！\",\r\n                  type: \"success\"\r\n                });\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                message: error.message,\r\n                type: \"error\"\r\n              });\r\n            });\r\n        }\r\n      },\r\n      getCode() {\r\n        if (this.codeString === \"验证码\") {\r\n          // 获取验证码\r\n          let params = {};\r\n          if (!this.checkParams(params)) {\r\n            return;\r\n          }\r\n\r\n          let url;\r\n          if (this.dialogTitle === \"找回密码\" || this.dialogTitle === \"邮箱验证码\") {\r\n            url = \"/user/getCodeForForgetPassword\";\r\n          } else {\r\n            url = \"/user/getCodeForBind\";\r\n          }\r\n\r\n          this.$http.get(this.$constant.baseURL + url, params)\r\n            .then((res) => {\r\n              this.$message({\r\n                message: \"验证码已发送，请注意查收！\",\r\n                type: \"success\"\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                message: error.message,\r\n                type: \"error\"\r\n              });\r\n            });\r\n          this.codeString = \"30\";\r\n          this.intervalCode = setInterval(() => {\r\n            if (this.codeString === \"0\") {\r\n              clearInterval(this.intervalCode)\r\n              this.codeString = \"验证码\";\r\n            } else {\r\n              this.codeString = (parseInt(this.codeString) - 1) + \"\";\r\n            }\r\n          }, 1000);\r\n        } else {\r\n          this.$message({\r\n            message: \"请稍后再试！\",\r\n            type: \"warning\"\r\n          });\r\n        }\r\n      },\r\n      clearDialog() {\r\n        this.password = \"\";\r\n        this.phoneNumber = \"\";\r\n        this.email = \"\";\r\n        this.avatar = \"\";\r\n        this.showDialog = false;\r\n        this.code = \"\";\r\n        this.dialogTitle = \"\";\r\n        this.passwordFlag = null;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .in-up-container {\r\n    height: 100vh;\r\n    position: relative;\r\n  }\r\n\r\n  .in-up {\r\n    opacity: 0.9;\r\n    border-radius: 10px;\r\n    box-shadow: 0 15px 30px var(--miniMask), 0 10px 10px var(--miniMask);\r\n    position: relative;\r\n    overflow: hidden;\r\n    width: 750px;\r\n    max-width: 100%;\r\n    min-height: 450px;\r\n    margin: 10px;\r\n  }\r\n\r\n  .in-up p {\r\n    font-size: 14px;\r\n    letter-spacing: 1px;\r\n    margin: 20px 0 30px 0;\r\n  }\r\n\r\n  .in-up a {\r\n    color: var(--black);\r\n    font-size: 14px;\r\n    text-decoration: none;\r\n    margin: 15px 0;\r\n  }\r\n\r\n  .form-container {\r\n    position: absolute;\r\n    height: 100%;\r\n    transition: all 0.5s ease-in-out;\r\n  }\r\n\r\n  .sign-in-container {\r\n    left: 0;\r\n    width: 50%;\r\n  }\r\n\r\n  .sign-up-container {\r\n    left: 0;\r\n    width: 50%;\r\n    opacity: 0;\r\n  }\r\n\r\n  .form-container div {\r\n    background: var(--white);\r\n    flex-direction: column;\r\n    padding: 0 20px;\r\n    height: 100%;\r\n  }\r\n\r\n  .form-container input {\r\n    background: var(--maxLightGray);\r\n    border-radius: 2px;\r\n    border: none;\r\n    padding: 12px 15px;\r\n    margin: 10px 0;\r\n    width: 100%;\r\n    outline: none;\r\n  }\r\n\r\n  .in-up button {\r\n    border-radius: 2rem;\r\n    border: none;\r\n    background: var(--lightRed);\r\n    color: var(--white);\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    padding: 12px 45px;\r\n    letter-spacing: 2px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .in-up button:hover {\r\n    animation: scale 0.8s ease-in-out;\r\n  }\r\n\r\n  .in-up button.ghost {\r\n    background: transparent;\r\n    border: 1px solid var(--white);\r\n  }\r\n\r\n  .sign-up-container button {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .overlay-container {\r\n    position: absolute;\r\n    left: 50%;\r\n    width: 50%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    transition: all 0.5s ease-in-out;\r\n  }\r\n\r\n  .overlay {\r\n    background: var(--gradualRed);\r\n    color: var(--white);\r\n    position: relative;\r\n    left: -100%;\r\n    height: 100%;\r\n    width: 200%;\r\n  }\r\n\r\n  .overlay-panel {\r\n    position: absolute;\r\n    top: 0;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    width: 50%;\r\n    transition: all 0.5s ease-in-out;\r\n  }\r\n\r\n  .overlay-right {\r\n    right: 0;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  .overlay-left {\r\n    transform: translateY(-20%);\r\n  }\r\n\r\n  .in-up.right-panel-active .sign-in-container {\r\n    transform: translateY(100%);\r\n  }\r\n\r\n  .in-up.right-panel-active .overlay-container {\r\n    transform: translateX(-100%);\r\n  }\r\n\r\n  .in-up.right-panel-active .sign-up-container {\r\n    transform: translateX(100%);\r\n    opacity: 1;\r\n  }\r\n\r\n  .in-up.right-panel-active .overlay {\r\n    transform: translateX(50%);\r\n  }\r\n\r\n  .in-up.right-panel-active .overlay-left {\r\n    transform: translateY(0);\r\n  }\r\n\r\n  .in-up.right-panel-active .overlay-right {\r\n    transform: translateY(20%);\r\n  }\r\n\r\n  .user-container {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    position: relative;\r\n  }\r\n\r\n  .user-info {\r\n    width: 80%;\r\n    z-index: 10;\r\n    margin-top: 70px;\r\n    height: calc(100vh - 90px);\r\n    margin-bottom: 20px;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .user-left {\r\n    width: 50%;\r\n    background: var(--maxMaxWhiteMask);\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    overflow-y: auto;\r\n    padding: 20px;\r\n  }\r\n\r\n  .user-right {\r\n    width: 50%;\r\n    background: var(--maxWhiteMask);\r\n    padding: 20px;\r\n  }\r\n\r\n  .user-title {\r\n    text-align: right;\r\n    user-select: none;\r\n  }\r\n\r\n  .user-content {\r\n    text-align: left;\r\n  }\r\n\r\n  .user-title div {\r\n    height: 55px;\r\n    line-height: 55px;\r\n    text-align: center;\r\n  }\r\n\r\n  .user-content > div {\r\n    height: 55px;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .user-content >>> .el-input__inner, .user-content >>> .el-textarea__inner {\r\n    border: none;\r\n    background: var(--whiteMask);\r\n  }\r\n\r\n  .user-content >>> .el-input__count {\r\n    background: var(--transparent);\r\n    user-select: none;\r\n  }\r\n\r\n  .changeInfo {\r\n    color: var(--white);\r\n    font-size: 0.75rem;\r\n    cursor: pointer;\r\n    background: var(--themeBackground);\r\n    padding: 3px;\r\n    border-radius: 0.2rem;\r\n    user-select: none;\r\n  }\r\n\r\n  @media screen and (max-width: 920px) {\r\n    .user-info {\r\n      width: 90%;\r\n    }\r\n\r\n    .user-left {\r\n      width: 100%;\r\n    }\r\n\r\n    .user-right {\r\n      display: none;\r\n    }\r\n  }\r\n</style>\r\n"]}]}