{"remainingRequest":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\babel-loader\\lib\\index.js!E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\桌面\\csgo项目\\poetize-vue2\\src\\components\\common\\twoPoem.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\src\\components\\common\\twoPoem.vue","mtime":1681451078618},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\babel.config.js","mtime":1681451078527},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\csgo项目\\poetize-vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpc0hpdG9rb3RvOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBpc1NoZWh1aTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGd1U2hpOiB7CiAgICAgICAgImNvbnRlbnQiOiAiLi4uIiwKICAgICAgICAib3JpZ2luIjogIi4uLiIsCiAgICAgICAgImF1dGhvciI6ICIuLi4iLAogICAgICAgICJjYXRlZ29yeSI6ICIuLi4iCiAgICAgIH0sCiAgICAgIGhpdG9rb3RvOiB7CiAgICAgICAgImhpdG9rb3RvIjogIi4uLiIsCiAgICAgICAgImZyb20iOiAiLi4uIiwKICAgICAgICAiZnJvbV93aG8iOiAiLi4uIgogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICghdGhpcy5pc1NoZWh1aSkgewogICAgICBpZiAodGhpcy5pc0hpdG9rb3RvKSB7CiAgICAgICAgdGhpcy5nZXRIaXRva290bygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0R3VTaGkoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5oaXRva290by5mcm9tID0gIiI7CiAgICAgIHRoaXMuaGl0b2tvdG8uZnJvbV93aG8gPSAiIjsKICAgICAgdGhpcy5zZW5kU2hlaHVpKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kU2hlaHVpOiBmdW5jdGlvbiBzZW5kU2hlaHVpKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGhyLm9wZW4oJ2dldCcsIHRoaXMuJGNvbnN0YW50LnNoZWh1aSk7CgogICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgdmFyIHNoZWh1aSA9IHhoci5yZXNwb25zZVRleHQ7CiAgICAgICAgICB0aGF0LmhpdG9rb3RvLmhpdG9rb3RvID0gc2hlaHVpLnN1YnN0cmluZygxLCBzaGVodWkubGVuZ3RoIC0gMSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgeGhyLnNlbmQoKTsKICAgIH0sCiAgICBnZXRHdVNoaTogZnVuY3Rpb24gZ2V0R3VTaGkoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICB4aHIub3BlbignZ2V0JywgdGhpcy4kY29uc3RhbnQuamlucmlzaGljaSk7CgogICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgdGhhdC5ndVNoaSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgeGhyLnNlbmQoKTsKICAgIH0sCiAgICBnZXRIaXRva290bzogZnVuY3Rpb24gZ2V0SGl0b2tvdG8oKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICB4aHIub3BlbignZ2V0JywgdGhpcy4kY29uc3RhbnQuaGl0b2tvdG8pOwoKICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHsKICAgICAgICAgIHRoYXQuaGl0b2tvdG8gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHhoci5zZW5kKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA;EACAA;IACAC;MACAC,aADA;MAEAC;IAFA,CADA;IAKAC;MACAF,aADA;MAEAC;IAFA;EALA,CADA;EAWAE,IAXA,kBAWA;IACA;MACAC;QACA,gBADA;QAEA,eAFA;QAGA,eAHA;QAIA;MAJA,CADA;MAOAC;QACA,iBADA;QAEA,aAFA;QAGA;MAHA;IAPA;EAaA,CAzBA;EA0BAC,OA1BA,qBA0BA;IACA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CANA,MAMA;MACA;MACA;MACA;IACA;EACA,CAtCA;EAwCAC;IACAC,UADA,wBACA;MACA;MACA;MACAC;;MACAA;QACA;UACA;UACAC;QACA;MACA,CALA;;MAMAD;IACA,CAZA;IAaAE,QAbA,sBAaA;MACA;MACA;MACAF;;MACAA;QACA;UACAC;QACA;MACA,CAJA;;MAKAD;IACA,CAvBA;IAwBAG,WAxBA,yBAwBA;MACA;MACA;MACAH;;MACAA;QACA;UACAC;QACA;MACA,CAJA;;MAKAD;IACA;EAlCA;AAxCA","names":["props","isHitokoto","type","default","isShehui","data","guShi","hitokoto","created","methods","sendShehui","xhr","that","getGuShi","getHitokoto"],"sourceRoot":"src/components/common","sources":["twoPoem.vue"],"sourcesContent":["<template>\r\n  <div class=\"poem-container myCenter my-animation-hideToShow\"\r\n       v-if=\"!$common.isEmpty(guShi.origin) || !$common.isEmpty(hitokoto.hitokoto)\">\r\n    <!-- 背景图片 -->\r\n    <el-image class=\"my-el-image poem-image\"\r\n              style=\"position: absolute;margin-top: -50px\"\r\n              v-once\r\n              lazy\r\n              :src=\"$constant.two_poem_image[Math.floor(Math.random() * $constant.two_poem_image.length)]\"\r\n              fit=\"cover\">\r\n      <div slot=\"error\" class=\"image-slot\"></div>\r\n    </el-image>\r\n    <div class=\"poem-wrap\">\r\n      <div v-if=\"isShehui\"><span>鬼畜全明星</span></div>\r\n      <div v-else><span>{{isHitokoto?hitokoto.from:guShi.origin}}</span></div>\r\n      <p class=\"poem\">{{isHitokoto?hitokoto.hitokoto:guShi.content}}</p>\r\n      <p class=\"info\" v-if=\"!isShehui && (!isHitokoto || (isHitokoto && !$common.isEmpty(hitokoto.from_who)))\">\r\n        {{isHitokoto?hitokoto.from_who:guShi.author}}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    props: {\r\n      isHitokoto: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      isShehui: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        guShi: {\r\n          \"content\": \"...\",\r\n          \"origin\": \"...\",\r\n          \"author\": \"...\",\r\n          \"category\": \"...\"\r\n        },\r\n        hitokoto: {\r\n          \"hitokoto\": \"...\",\r\n          \"from\": \"...\",\r\n          \"from_who\": \"...\"\r\n        }\r\n      };\r\n    },\r\n    created() {\r\n      if (!this.isShehui) {\r\n        if (this.isHitokoto) {\r\n          this.getHitokoto();\r\n        } else {\r\n          this.getGuShi();\r\n        }\r\n      } else {\r\n        this.hitokoto.from = \"\";\r\n        this.hitokoto.from_who = \"\";\r\n        this.sendShehui();\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      sendShehui() {\r\n        let that = this;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open('get', this.$constant.shehui);\r\n        xhr.onreadystatechange = function () {\r\n          if (xhr.readyState === 4) {\r\n            let shehui = xhr.responseText;\r\n            that.hitokoto.hitokoto = shehui.substring(1, shehui.length - 1);\r\n          }\r\n        };\r\n        xhr.send();\r\n      },\r\n      getGuShi() {\r\n        let that = this;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open('get', this.$constant.jinrishici);\r\n        xhr.onreadystatechange = function () {\r\n          if (xhr.readyState === 4) {\r\n            that.guShi = JSON.parse(xhr.responseText);\r\n          }\r\n        };\r\n        xhr.send();\r\n      },\r\n      getHitokoto() {\r\n        let that = this;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open('get', this.$constant.hitokoto);\r\n        xhr.onreadystatechange = function () {\r\n          if (xhr.readyState === 4) {\r\n            that.hitokoto = JSON.parse(xhr.responseText);\r\n          }\r\n        }\r\n        xhr.send();\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style scoped>\r\n\r\n  .poem-container {\r\n    padding: 90px 0 40px;\r\n    position: relative;\r\n  }\r\n\r\n  .poem-wrap {\r\n    border-radius: 10px;\r\n    z-index: 10;\r\n    text-align: center;\r\n    letter-spacing: 4px;\r\n    font-weight: 300;\r\n    width: 100%;\r\n    max-width: 800px;\r\n  }\r\n\r\n  .poem-wrap div span {\r\n    padding: 5px 10px;\r\n    color: var(--white);\r\n    font-size: 2em;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .poem-wrap p {\r\n    width: 100%;\r\n    max-width: 800px;\r\n    color: var(--white);\r\n  }\r\n\r\n  .poem-wrap p.poem {\r\n    margin: 40px auto;\r\n    font-size: 1.5em;\r\n  }\r\n\r\n  .poem-wrap p.info {\r\n    margin: 20px auto 40px;\r\n    font-size: 1.1em;\r\n  }\r\n</style>\r\n"]}]}